name: aethera
image-version: 43
base-image: ghcr.io/ublue-os/base-main
modules:
  - from-file: common/general-packages.yml
  - type: dnf
    repos:
      copr:
        - yalter/niri
        - avengemedia/dms
        - avengemedia/danklinux
  - type: rpm-ostree 
    install:
      - xwayland-satellite
      - xdg-desktop-portal-gtk      
      - quickshell
      - dms
      - dms-greeter
      - matugen
      - material-symbols-fonts
      - cliphist      
  - type: files
    files:
      - source: system
        destination: /
  - type: rpm-ostree 
    install:
      - niri
  - type: files
    files:
      - source: niri
        destination: /
      - source: dms
        destination: /      
  - type: systemd
    system:
      enabled:
        - greetd
  - type: script
    scripts:
      - niri.sh
      - greetd-users.sh
      - neovim.sh
      - initramfs.sh
  - from-file: common/flatpak.yml
description: "Niri + DankMaterialShell in an Atomic Desktop"